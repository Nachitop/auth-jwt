<h3 class="text-center">Sign Up</h3>
<div class="container">
  <form [formGroup]="signupForm" (ngSubmit)="onSubmit();">
  <div class="form-group">
    <label for="name" >Name</label>
    <input class="form-control form-control-lg" type="text" id="name"  formControlName="name">
    <div  *ngIf="signupForm.controls.name.invalid && signupForm.controls.name.touched">
      <!-- <div *ngFor="let error of signupForm.controls.name.errors | errorKey" class="invalid-feedback d-block">
        {{error}}
      </div> -->
      <div *ngIf="signupForm.controls.name.errors.required" class="invalid-feedback d-block">
        The Name field is <strong>required</strong>.
      </div>
      <div *ngIf="signupForm.controls.name.errors.maxlength || signupForm.controls.name.errors.minlength" class="invalid-feedback d-block">
          The Name field must be between 5 and 50 characters.
        </div>
     
     </div>
  </div>

  <div class="form-group">
    <label for="username">Username</label>
    <input class="form-control form-control-lg" id="username"  formControlName="username">
    <div  *ngIf="signupForm.controls.username.invalid && signupForm.controls.username.touched">
       <div *ngIf="signupForm.controls.username.errors.required" class="invalid-feedback d-block">
         The Username field is <strong>required</strong>.
         </div>
         <div *ngIf="signupForm.controls.username.errors.maxlength || signupForm.controls.username.errors.minlength" class="invalid-feedback d-block">
            The Username field must be between 5 and 20 characters.
          </div>
      </div>
  </div>

  <div class="form-group">
      <label for="email">Email</label>
      <input class="form-control form-control-lg" id="email"  formControlName="email">
      <div  *ngIf="signupForm.controls.email.invalid && signupForm.controls.email.touched">
          <div *ngIf="signupForm.controls.email.errors.required" class="invalid-feedback d-block">
            The Email field is <strong>required</strong>.
            </div>
            <div *ngIf="signupForm.controls.email.errors.email" class="invalid-feedback d-block">
               The Email field is <strong>invalid</strong>.
             </div>
         </div>
    </div>

    <div class="form-group">
        <label for="password">Password</label>
        <input class="form-control form-control-lg" id="password"  formControlName="password">
        <div  *ngIf="signupForm.controls.password.invalid && signupForm.controls.password.touched">
            <div *ngIf="signupForm.controls.password.errors.required" class="invalid-feedback d-block">
              The Password field is <strong>required</strong>.
              </div>
          
           </div>
      </div>
      <div class="form-group">
        <label for="repeat-password">Repeat-password</label>
        <input class="form-control form-control-lg" id="password"  formControlName="repeat_password">
        <div  *ngIf="signupForm.controls.password.value !=''">
            <div *ngIf="!signupForm.controls.repeat_password.valid" class="invalid-feedback d-block">
              the passwords don't match!
              </div>
          
           </div>
      </div>

      <div class="form-group" >
          <label>Roles</label>
          <div formArrayName="roles">
              <div *ngFor="let role of roles; let i = index" class="form-check" >
                  <input class="form-check-input" type="checkbox" [value]="role" [id]="role"  [formControlName]="i">
                  <label class="form-check-label" [for]="role">
                    {{role}}
                  </label>
                </div>
          </div>
         
           
          </div>
      <br>
 
<button type="submit"  class="btn btn-outline-primary btn-block">Sign Up</button>

<div class="mt-5 text-center"><a [routerLink]="['/signin']">Do you already have an account? Log in!</a></div>
  </form>
</div>

